# Presenter Video Generation Workflow - å®Ÿè¡Œæ‰‹é †

Claude Codeï¼ˆç§ï¼‰ãŒãƒ—ãƒ¬ã‚¼ãƒ³ã‚¿ãƒ¼å‹•ç”»ç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œã™ã‚‹éš›ã®è©³ç´°æ‰‹é †æ›¸ã§ã™ã€‚

## å‰ææ¡ä»¶

- å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒé©åˆ‡ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨
- MCPè¨­å®šãƒ•ã‚¡ã‚¤ãƒ« `.claude/mcp-kamuicode.json` ãŒå­˜åœ¨ã™ã‚‹ã“ã¨
- **ffmpegãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã‚ã‚‹ã“ã¨** (å‹•ç”»ãƒ»éŸ³å£°å‡¦ç†ã«å¿…é ˆ)
- **curlã‚³ãƒãƒ³ãƒ‰ãŒåˆ©ç”¨å¯èƒ½ã§ã‚ã‚‹ã“ã¨** (ãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã«å¿…é ˆ)

## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œé †åº

```mermaid
flowchart LR
    S0[ğŸ”§ Step0: Setup<br/>åˆæœŸè¨­å®šãƒ»ä¸‹æº–å‚™] --> A[ğŸ“ Step1: Content Planning<br/>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¼ç”»]
    
    A --> B[ğŸ‘¤ Step2a: Presenter Image<br/>ãƒ—ãƒ¬ã‚¼ãƒ³ã‚¿ãƒ¼ç”»åƒç”Ÿæˆ]
    A --> E[ğŸµ Step2b: Audio Generation<br/>éŸ³å£°ç”Ÿæˆ]
    
    B --> C[ğŸ¬ Step3: Base Video<br/>ãƒ™ãƒ¼ã‚¹å‹•ç”»ç”Ÿæˆ]
    
    C --> D[ğŸ’‹ Step4: Lipsync<br/>ãƒªãƒƒãƒ—ã‚·ãƒ³ã‚¯ç”Ÿæˆ]
    E --> D
    
    D --> F[ğŸ¯ Step5: Subtitle Analysis<br/>å­—å¹•ã‚¿ã‚¤ãƒŸãƒ³ã‚°è§£æ]
    
    F --> G[ğŸ“ Step6: Subtitle Overlay<br/>å­—å¹•é©ç”¨ ffmpeg]
```

---

## å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

### å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

- `topic`: **ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒˆãƒ”ãƒƒã‚¯ãƒ»ãƒ†ãƒ¼ãƒ**
  - ä½œæˆã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒ†ãƒ¼ãƒã‚„ãƒˆãƒ”ãƒƒã‚¯ã‚’ç°¡æ½”ã«è¡¨ç¾
- `content`: **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å…·ä½“çš„å†…å®¹ãƒ»æƒ…å ±**
  - èª¬æ˜ã—ãŸã„å…·ä½“çš„ãªæƒ…å ±ã‚„äº‹å®Ÿã‚’è¨˜è¿°
  - ã“ã®å†…å®¹ãŒã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¼ç”»ã®ãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹

#### å…¥åŠ›ä¾‹
  - topic: `"æ–°ã—ã„ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒã®ç´¹ä»‹"`
  - content: `"æœ€æ–°æŠ€è¡“ã‚’æ­è¼‰ã—ãŸã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒã®æ©Ÿèƒ½ã¨åˆ©ä¾¿æ€§ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚å¥åº·ç®¡ç†ã€é€šçŸ¥æ©Ÿèƒ½ã€ãƒãƒƒãƒ†ãƒªãƒ¼å¯¿å‘½ãªã©ã€æ—¥å¸¸ç”Ÿæ´»ã‚’å‘ä¸Šã•ã›ã‚‹ç‰¹å¾´ã‚’è©³ã—ãç´¹ä»‹ã—ã¾ã™ã€‚"` 
  - video-duration: 30

### ä»»æ„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚ã‚Šï¼‰

- `target-language`: ç¿»è¨³å…ˆè¨€èª (japanese/english) ãƒ» ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `japanese`
- `folder-name`: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€å ãƒ» ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `result/presenter/{TIMESTAMP}`
- `video_index`: å‹•ç”»ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ ãƒ» ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `1`
- `video-duration`: å‹•ç”»ã®é•·ã•ï¼ˆç§’ï¼‰ ãƒ» ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `60`
- `speaker-type`: è©±ã—æ‰‹ã‚¿ã‚¤ãƒ— ãƒ» ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `news-anchor`
  - åˆ©ç”¨å¯èƒ½ãªã‚¿ã‚¤ãƒ—:
    - `news-anchor`: ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚¢ãƒŠã‚¦ãƒ³ã‚µãƒ¼ï¼ˆæ­£å¼ãªãƒ‹ãƒ¥ãƒ¼ã‚¹å ±é“ï¼‰
    - `receptionist`: å—ä»˜ãƒ»ç§˜æ›¸ï¼ˆæ¥å®¢å¯¾å¿œã€æ¡ˆå†…æ¥­å‹™ï¼‰
    - `pr-representative`: åºƒå ±æ‹…å½“ï¼ˆä¼æ¥­ç™ºè¡¨ã€ãƒ—ãƒ¬ã‚¹ãƒªãƒªãƒ¼ã‚¹ï¼‰
    - `sales-person`: å–¶æ¥­æ‹…å½“ï¼ˆå•†å“è²©å£²ã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
    - `youtuber`: YouTuberãƒ»ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ï¼ˆå•†å“ç´¹ä»‹ã€ã‚¨ãƒ³ã‚¿ãƒ¡ï¼‰
    - `instructor`: è¬›å¸«ãƒ»ã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ï¼ˆæ•™è‚²ã€ç ”ä¿®ï¼‰
    - `ceo`: çµŒå–¶è€…ãƒ»å½¹å“¡ï¼ˆä¼æ¥­ãƒ“ã‚¸ãƒ§ãƒ³ã€æ ªä¸»å‘ã‘ï¼‰
    - `custom`: ã‚«ã‚¹ã‚¿ãƒ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ï¼ˆæ—¢å­˜ã®ç”»åƒã‚’ä½¿ç”¨ï¼‰
  - å„ã‚¿ã‚¤ãƒ—ã«å¿œã˜ãŸé©åˆ‡ãªæœè£…ã€èƒŒæ™¯ã€å£èª¿ãŒè‡ªå‹•è¨­å®šã•ã‚Œã‚‹
- `speaker-gender`: è©±ã—æ‰‹ã®æ€§åˆ¥ ãƒ» ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `female`
  - åˆ©ç”¨å¯èƒ½ãªæ€§åˆ¥: `female`, `male`
- `presentation-style`: ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¿ã‚¤ãƒ« ãƒ» ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `formal`
  - åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚¿ã‚¤ãƒ«: `formal`, `casual`, `friendly`, `energetic`
  - `formal`: ä¸å¯§ã§æ­£å¼ãªã‚¹ã‚¿ã‚¤ãƒ«
  - `casual`: ãƒªãƒ©ãƒƒã‚¯ã‚¹ã—ãŸè¦ªã—ã¿ã‚„ã™ã„ã‚¹ã‚¿ã‚¤ãƒ«
  - `friendly`: æ¸©ã‹ãæ­“è¿çš„ãªã‚¹ã‚¿ã‚¤ãƒ«
  - `energetic`: æ´»æ°—ã«æº€ã¡ãŸæƒ…ç†±çš„ãªã‚¹ã‚¿ã‚¤ãƒ«
- `aspect-ratio`: ç”»é¢æ¯”ç‡ ãƒ» ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `9:16`
  - åˆ©ç”¨å¯èƒ½ãªæ¯”ç‡: `1:1`, `9:16`, `16:9`, `3:4`, `4:3`
- `text-prompt`: ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³åŸç¨¿ ãƒ» ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ç©ºï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
  - éŸ³å£°ç”Ÿæˆç”¨ã«ä½¿ç”¨ã™ã‚‹å®Œæˆã•ã‚ŒãŸãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³åŸç¨¿
  - æŒ‡å®šã—ãŸå ´åˆã€`content`ã‚ˆã‚Šå„ªå…ˆã•ã‚Œã€è‡ªå‹•ä¼ç”»ã‚¹ãƒ†ãƒƒãƒ—ã‚’ã‚¹ã‚­ãƒƒãƒ—
  - æ—¢ã«å®Œæˆã—ãŸãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³åŸç¨¿ãŒã‚ã‚‹å ´åˆã«ä½¿ç”¨
- `character-image`: ã‚«ã‚¹ã‚¿ãƒ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒ ãƒ» ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ç©º
  - `speaker-type=custom` æ™‚ã«å¿…é ˆ
  - URLã¾ãŸã¯ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’æŒ‡å®š
  - URLã®å ´åˆ: `http://` ã¾ãŸã¯ `https://` ã§å§‹ã¾ã‚‹å®Œå…¨ãªURL
  - ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´åˆ: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã‹ã‚‰ã®ç›¸å¯¾ãƒ‘ã‚¹ã¾ãŸã¯çµ¶å¯¾ãƒ‘ã‚¹
- `character-description`: ã‚«ã‚¹ã‚¿ãƒ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®èª¬æ˜ ãƒ» ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ç©º
  - `speaker-type=custom` æ™‚ã«ä½¿ç”¨ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å¤–è¦‹ã‚„ç‰¹å¾´ã‚’èª¬æ˜ã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆ
  - i2iå¤‰æ›æ™‚ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã«ä½¿ç”¨ã•ã‚Œã‚‹

#### å…¥åŠ›ä¾‹ (ä»»æ„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¿½åŠ ã—ãŸä¾‹)

**YouTuberç”·æ€§ã«ã‚ˆã‚‹å•†å“ç´¹ä»‹ä¾‹**:
- topic: `"æ–°ã—ã„ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒã®ç´¹ä»‹"`
- content: `"æœ€æ–°æŠ€è¡“ã‚’æ­è¼‰ã—ãŸã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒã®æ©Ÿèƒ½ã¨åˆ©ä¾¿æ€§ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚å¥åº·ç®¡ç†æ©Ÿèƒ½ã§ã¯å¿ƒæ‹æ•°ã€è¡€åœ§ã€ç¡çœ ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’24æ™‚é–“ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã—ã€AIãŒå€‹äººã«æœ€é©åŒ–ã•ã‚ŒãŸå¥åº·ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚é€šçŸ¥æ©Ÿèƒ½ã§ã¯é‡è¦ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã¿ã‚’å³é¸ã—ã¦è¡¨ç¤ºã—ã€é›†ä¸­åŠ›ã‚’å¦¨ã’ã¾ã›ã‚“ã€‚ãƒãƒƒãƒ†ãƒªãƒ¼å¯¿å‘½ã¯æœ€å¤§7æ—¥é–“æŒç¶šã—ã€æ€¥é€Ÿå……é›»ã«ã‚‚å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚"`
- speaker-type: `youtuber`
- speaker-gender: `male`
- presentation-style: `energetic`
- video-duration: 30

**å—ä»˜å¥³æ€§ã«ã‚ˆã‚‹ä¼šç¤¾æ¡ˆå†…ä¾‹ï¼ˆæ¨ªé•·å‹•ç”»ï¼‰**:
- topic: `"ä¼šç¤¾ç´¹ä»‹"`
- content: `"å¼Šç¤¾ã¯1995å¹´å‰µç«‹ä»¥æ¥ã€ITæŠ€è¡“ã‚’é€šã˜ã¦ç¤¾ä¼šèª²é¡Œã®è§£æ±ºã«å–ã‚Šçµ„ã‚“ã§ã¾ã„ã‚Šã¾ã—ãŸã€‚å¾“æ¥­å“¡æ•°300åã€å›½å†…å¤–ã«5ã¤ã®ã‚ªãƒ•ã‚£ã‚¹ã‚’æ§‹ãˆã€AIãƒ»IoTãƒ»ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä¸­å¿ƒã¨ã—ãŸäº‹æ¥­ã‚’å±•é–‹ã—ã¦ãŠã‚Šã¾ã™ã€‚ãŠå®¢æ§˜ç¬¬ä¸€ä¸»ç¾©ã‚’ãƒ¢ãƒƒãƒˆãƒ¼ã«ã€é©æ–°çš„ãªã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®æä¾›ã‚’é€šã˜ã¦ã€ã‚ˆã‚Šè‰¯ã„æœªæ¥ã®å®Ÿç¾ã«è²¢çŒ®ã—ã¦ã„ã¾ã™ã€‚"`
- speaker-type: `receptionist`
- speaker-gender: `female`
- presentation-style: `friendly`
- aspect-ratio: `16:9`
- video-duration: 30

**ã‚«ã‚¹ã‚¿ãƒ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’ä½¿ç”¨ã—ãŸå•†å“ç´¹ä»‹ä¾‹**:
- topic: `"æ–°è£½å“ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã®ç´¹ä»‹"`
- content: `"æœ€æ–°ã®AIãƒãƒƒãƒ—ã‚’æ­è¼‰ã—ãŸã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã¯ã€å†™çœŸæ’®å½±ã€ãƒãƒƒãƒ†ãƒªãƒ¼å¯¿å‘½ã€å‡¦ç†é€Ÿåº¦ã«ãŠã„ã¦é©æ–°çš„ãªé€²åŒ–ã‚’é‚ã’ã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚«ãƒ¡ãƒ©ãƒãƒ³ã‚‚é©šãé«˜ç”»è³ªæ’®å½±ã€2æ—¥é–“æŒç¶šã™ã‚‹ãƒãƒƒãƒ†ãƒªãƒ¼ã€ãã—ã¦5Gå¯¾å¿œã«ã‚ˆã‚‹è¶…é«˜é€Ÿé€šä¿¡ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚"`
- speaker-type: `custom`
- character-image: `https://lh3.googleusercontent.com/YrRrPZzc5JH1DNYdfLWNzHwEjGfFD3tr0jauSOQnJwzAN-W5l3kqJCVyzZrE5k2u6PqlnUyc1By7hOc5QW_WcfQM4xs_ZQ19AD43k1AFy2-GUJwUBB4=w500`
- character-description: `3Dã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ ãƒ‰ãƒ­ã‚¤ãƒ‰å›`
- presentation-style: `energetic`
- video-duration: 30

**ãƒ­ãƒ¼ã‚«ãƒ«ç”»åƒã‚’ä½¿ç”¨ã—ãŸã‚«ã‚¹ã‚¿ãƒ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¾‹**:
- topic: `"ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å­¦ç¿’ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ç´¹ä»‹"`
- content: `"ç§ãŸã¡ã®é©æ–°çš„ãªã‚ªãƒ³ãƒ©ã‚¤ãƒ³å­¦ç¿’ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¯ã€AIã«ã‚ˆã‚‹å€‹åˆ¥æŒ‡å°ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã€ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¦ç´ ã‚’çµ„ã¿åˆã‚ã›ã€å­¦ç¿’åŠ¹æœã‚’æœ€å¤§åŒ–ã—ã¾ã™ã€‚"`
- speaker-type: `custom`
- character-image: `./assets/characters/presenter.png`
- character-description: `ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªæœè£…ã®å¥³æ€§ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼`
- presentation-style: `formal`
- aspect-ratio: `16:9`
- video-duration: 30

## ã‚¹ãƒ†ãƒƒãƒ—0: åˆæœŸè¨­å®šãƒ»ä¸‹æº–å‚™

### ä¸€æ‹¬å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ

**é‡è¦**: ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’1ã¤ã®Bashã‚»ãƒƒã‚·ãƒ§ãƒ³ã§å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼ˆç’°å¢ƒå¤‰æ•°ã®å¼•ãç¶™ãã®ãŸã‚ï¼‰

**ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: [step0-setup.sh](./bash/step0-setup.sh)

```bash
# ä½¿ç”¨ä¾‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚¢ãƒŠã‚¦ãƒ³ã‚µãƒ¼å¥³æ€§ã€ç”»é¢æ¯”ç‡9:16ï¼‰
TOPIC="æ—¥æœ¬ã®AIæŠ€è¡“é©æ–°" CONTENT="æ—¥æœ¬æ”¿åºœãŒç™ºè¡¨ã—ãŸAIæ–°æˆ¦ç•¥ã«ã‚ˆã‚‹ã¨..." ./docs/workflow/bash/step0-setup.sh

# YouTuberç”·æ€§ã«ã‚ˆã‚‹å•†å“ç´¹ä»‹å‹•ç”»ï¼ˆã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰
TOPIC="æ–°ã—ã„ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒã®ç´¹ä»‹" CONTENT="æœ€æ–°æŠ€è¡“ã‚’æ­è¼‰ã—ãŸã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒƒãƒã®æ©Ÿèƒ½ã¨..." SPEAKER_TYPE="youtuber" SPEAKER_GENDER="male" PRESENTATION_STYLE="energetic" ./docs/workflow/bash/step0-setup.sh

# å—ä»˜å¥³æ€§ã«ã‚ˆã‚‹ä¼šç¤¾æ¡ˆå†…å‹•ç”»ï¼ˆãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã€æ¨ªé•·ï¼‰
TOPIC="ä¼šç¤¾ç´¹ä»‹" CONTENT="å¼Šç¤¾ã¯1995å¹´å‰µç«‹ä»¥æ¥ã€ITæŠ€è¡“ã‚’é€šã˜ã¦ç¤¾ä¼šèª²é¡Œã®è§£æ±ºã«..." SPEAKER_TYPE="receptionist" SPEAKER_GENDER="female" PRESENTATION_STYLE="friendly" ASPECT_RATIO="16:9" ./docs/workflow/bash/step0-setup.sh
```

---

## ã‚¹ãƒ†ãƒƒãƒ—1: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¼ç”» (content-planning-prompt.md ãƒ™ãƒ¼ã‚¹)

### å®Ÿè¡Œæ‰‹é †

**é‡è¦**: ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã¯Claude Codeï¼ˆAIï¼‰ãŒå®Ÿè¡Œã—ã¾ã™ã€‚bashã‚³ãƒãƒ³ãƒ‰ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

1. **å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ç¢ºèª**
   - Step0ã§ä½œæˆã•ã‚ŒãŸ `workflow-info.json` ã‹ã‚‰ä»¥ä¸‹ã®å€¤ã‚’å–å¾—:
     - `topic`: ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒˆãƒ”ãƒƒã‚¯
     - `content`: ãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ‡å®šã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å†…å®¹  
     - `target_language`: ç¿»è¨³å…ˆè¨€èª
     - `presentation_style`: ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«
     - `video_duration`: å‹•ç”»ã®é•·ã•
     - `speaker_type`: è©±ã—æ‰‹ã‚¿ã‚¤ãƒ—
     - `speaker_gender`: è©±ã—æ‰‹ã®æ€§åˆ¥
     - `speaker_personality`: è©±ã—æ‰‹ã®æ€§æ ¼
     - `text_prompt`: ã‚«ã‚¹ã‚¿ãƒ ãƒ†ã‚­ã‚¹ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
     - `folder_name`: ä½œæ¥­ãƒ•ã‚©ãƒ«ãƒ€å

2. **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿**
   - Readãƒ„ãƒ¼ãƒ«ã§ [content-planning-prompt.md](./prompts/presenter-video-generation/content-planning-prompt.md) ã‚’èª­ã¿è¾¼ã¿
   - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå†…ã®å¤‰æ•°ã‚’å®Ÿéš›ã®å€¤ã«ç½®æ›

3. **ãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ**
   
   ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ `{FOLDER_NAME}/video{VIDEO_INDEX}/planning/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä½œæˆ:

   | ãƒ•ã‚¡ã‚¤ãƒ«å | å†…å®¹ | è¨€èª |
   |------------|------|------|
   | `audio-prompt.txt` | ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³åŸç¨¿ï¼ˆéŸ³å£°ç”Ÿæˆç”¨ï¼‰ | æ—¥æœ¬èª |
   | `image-prompt.txt` | ãƒ—ãƒ¬ã‚¼ãƒ³ã‚¿ãƒ¼ç”»åƒç”Ÿæˆç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ | è‹±èª |
   | `video-concept.txt` | ãƒ—ãƒ¬ã‚¼ãƒ³ã‚¿ãƒ¼å‹•ç”»ç”Ÿæˆç”¨ã‚³ãƒ³ã‚»ãƒ—ãƒˆ | è‹±èª |
   | `voice-settings.json` | éŸ³å£°è¨­å®šï¼ˆJSONå½¢å¼ï¼‰ | - |
   | `content-title.txt` | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒˆãƒ« | è‹±èª |
   | `content-summary.txt` | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¦ç´„ | æ—¥æœ¬èª |
   | `content-plan.md` | ä¼ç”»æ›¸ï¼ˆMarkdownå½¢å¼ï¼‰ | æ—¥æœ¬èª |

4. **ä½œæˆå®Œäº†ç¢ºèª**
   - [x] å…¨7ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£å¸¸ã«ä½œæˆã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèª
   - [x] å„ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ãŒãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®è¦ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª

---

## ã‚¹ãƒ†ãƒƒãƒ—2a: ãƒ—ãƒ¬ã‚¼ãƒ³ã‚¿ãƒ¼ç”»åƒç”Ÿæˆ (module-image-generation-kc-multi-model-ccsdk.yml / i2i-fal-flux-kontext-max ãƒ™ãƒ¼ã‚¹)

### å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
- `topic`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒˆãƒ”ãƒƒã‚¯ï¼ˆStep0ã®å‡ºåŠ›ï¼‰
- `image-prompt`: ç”»åƒç”Ÿæˆç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆã‚¹ãƒ†ãƒƒãƒ—1ã®å‡ºåŠ›ï¼‰
- `model-type`: ä½¿ç”¨ã™ã‚‹ç”»åƒç”Ÿæˆãƒ¢ãƒ‡ãƒ«
  - `speaker-type=custom`ä»¥å¤–: t2i-fal-imagen4-ultraï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
  - `speaker-type=custom`: i2i-fal-flux-kontext-max
- `folder-name`: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€åï¼ˆStep0ã®å‡ºåŠ›ï¼‰
- `video_index`: å‹•ç”»ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆStep0ã®å‡ºåŠ›ï¼‰
- `aspect-ratio`: ç”»é¢æ¯”ç‡ï¼ˆStep0ã®å‡ºåŠ›ï¼‰
- `character-image`: ã‚«ã‚¹ã‚¿ãƒ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒï¼ˆStep0ã®å‡ºåŠ›ã€speaker-type=customæ™‚ï¼‰
- `character-image-type`: ç”»åƒã‚¿ã‚¤ãƒ—ï¼ˆurl/localï¼‰ï¼ˆStep0ã®å‡ºåŠ›ã€speaker-type=customæ™‚ï¼‰

### å®Ÿè¡Œã‚¹ãƒ†ãƒƒãƒ—

1. **ç”»åƒç”Ÿæˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®Ÿè¡Œ**
   ```
   TOPIC="{topic}"
   PLANNED_IMAGE_PROMPT="{image-prompt}"
   MODEL_TYPE="{model-type}"
   FOLDER_NAME="{folder-name}"
   VIDEO_INDEX="{video_index}"
   ASPECT_RATIO="{aspect-ratio}"
   
   # æ–°ã—ã„ãƒ‘ã‚¹æ§‹é€ 
   VIDEO_BASE_DIR="$FOLDER_NAME/video$VIDEO_INDEX"
   IMAGES_DIR="$VIDEO_BASE_DIR/images"
   
   # ç”»åƒãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆStep0ã§ä½œæˆæ¸ˆã¿ï¼‰
   echo "Using images directory: $IMAGES_DIR"
   ```

2. **ç”»åƒç”Ÿæˆå®Ÿè¡Œ**
   
   ğŸš¨ **é‡è¦**: å¿…ãšReadãƒ„ãƒ¼ãƒ«ã§ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ã‹ã‚‰å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚è¨˜æ†¶ã‚„æƒ³åƒã§ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½œæˆã—ãªã„ã§ãã ã•ã„ã€‚
   
   **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: [image-generation-prompt.md](./prompts/presenter-video-generation/image-generation-prompt.md)
   
   **speaker-type ã«ã‚ˆã‚‹å‡¦ç†åˆ†å²**:
   
   a) **é€šå¸¸ã®speaker-typeï¼ˆnews-anchor, youtuberç­‰ï¼‰ã®å ´åˆ**:
      - t2i-fal-imagen4-fast ã‚’ä½¿ç”¨
      - MCPãƒ„ãƒ¼ãƒ«ä½¿ç”¨:
        - submitãƒ„ãƒ¼ãƒ«ã§ç”»åƒç”Ÿæˆé–‹å§‹
        - statusãƒ„ãƒ¼ãƒ«ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª
        - resultãƒ„ãƒ¼ãƒ«ã§çµæœå–å¾—ã—ã¦Google URLã‚’å–å¾—
        - curlã§ç”»åƒã‚’ä¿å­˜
   
   b) **speaker-type=custom ã®å ´åˆ**:
      - character-image-type=local ã®å ´åˆ:
        - step2a-character-upload.sh ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¦FALã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
        - ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯è‡ªå‹•çš„ã«Pythonä»®æƒ³ç’°å¢ƒï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/.venvï¼‰ã‚’ä½œæˆã—ã€fal-clientã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
        - fal_client.upload_file()ã‚’ä½¿ç”¨ã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Ÿè¡Œ
        - ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸFAL URLã‚’{IMAGES_DIR}/character-fal-url.txtã«ä¿å­˜
        - ä¿å­˜ã•ã‚ŒãŸURLã‚’ä½¿ç”¨
      - character-image-type=url ã®å ´åˆ:
        - æŒ‡å®šã•ã‚ŒãŸURLã‚’ãã®ã¾ã¾ä½¿ç”¨
      - i2i-fal-flux-kontext-max ã‚’ä½¿ç”¨
      - MCPãƒ„ãƒ¼ãƒ«ä½¿ç”¨:
        - image_url ã«ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒURLã‚’æŒ‡å®š
        - prompt ã«ã¯i2iãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆã‚¹ãƒ†ãƒƒãƒ—1ã§ç”Ÿæˆï¼‰ã‚’ä½¿ç”¨
        - aspect_ratio ã‚’æŒ‡å®š
        - submitãƒ„ãƒ¼ãƒ«ã§ç”»åƒå¤‰æ›é–‹å§‹
        - statusãƒ„ãƒ¼ãƒ«ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª
        - resultãƒ„ãƒ¼ãƒ«ã§çµæœå–å¾—ã—ã¦å¤‰æ›å¾Œã®ç”»åƒURLã‚’å–å¾—
        - curlã§ç”»åƒã‚’ä¿å­˜

3. **ç”Ÿæˆã•ã‚ŒãŸç”»åƒã®ç¢ºèªã¨ä¿å­˜**
   ```bash
   if [ -d "$IMAGES_DIR" ]; then
     # Google URLãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª
     if [ -f "$IMAGES_DIR/image-url.txt" ]; then
       GOOGLE_URL=$(cat "$IMAGES_DIR/image-url.txt")
       echo "Generated image URL: $GOOGLE_URL"
       
       # Google URLã‹ã‚‰ç”»åƒã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ä¿å­˜
       echo "Downloading image from Google URL..."
       wget "$GOOGLE_URL" -O "$IMAGES_DIR/image.png"
       
       if [ -f "$IMAGES_DIR/image.png" ]; then
         echo "âœ… Image successfully downloaded and saved"
       else
         echo "âŒ Failed to download image from Google URL"
         exit 1
       fi
     else
       echo "âŒ Google image URL file not found"
       exit 1
     fi
     
     # ä¿å­˜ã•ã‚ŒãŸç”»åƒã®ç¢ºèª
     IMAGE_COUNT=$(find "$IMAGES_DIR" -name "*.png" -o -name "*.jpg" -o -name "*.jpeg" | wc -l)
     if [ "$IMAGE_COUNT" -gt 0 ]; then
       echo "âœ… Successfully generated and saved $IMAGE_COUNT images"
     else
       echo "âŒ No images were saved"
       exit 1
     fi
   else
     echo "âŒ Images directory not found"
     exit 1
   fi
   ```

---

## ã‚¹ãƒ†ãƒƒãƒ—2b: éŸ³å£°ç”Ÿæˆ (module-audio-generation-kc-multi-model-ccsdk.yml ãƒ™ãƒ¼ã‚¹)

### å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
- `topic`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒˆãƒ”ãƒƒã‚¯ï¼ˆStep0ã®å‡ºåŠ›ï¼‰
- `model-type`: ä½¿ç”¨ã™ã‚‹éŸ³å£°ç”Ÿæˆãƒ¢ãƒ‡ãƒ« (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤: t2s-fal-minimax-speech-02-turbo)
- `text-prompt`: éŸ³å£°ç”Ÿæˆç”¨ãƒ†ã‚­ã‚¹ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆã‚¹ãƒ†ãƒƒãƒ—1ã®å‡ºåŠ›ï¼‰
- `voice-settings`: éŸ³å£°è¨­å®šï¼ˆJSONå½¢å¼ï¼‰ï¼ˆã‚¹ãƒ†ãƒƒãƒ—1ã®å‡ºåŠ›ï¼‰
- `folder-name`: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€åï¼ˆStep0ã®å‡ºåŠ›ï¼‰
- `audio_index`: éŸ³å£°ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆStep0ã®å‡ºåŠ›ï¼‰

### å®Ÿè¡Œæ‰‹é †

**é‡è¦**: ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã¯Claude Codeï¼ˆAIï¼‰ãŒå®Ÿè¡Œã—ã¾ã™ã€‚bashã‚³ãƒãƒ³ãƒ‰ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

1. **å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ç¢ºèª**
   - Step0ã§ä½œæˆã•ã‚ŒãŸ `workflow-info.json` ã¨ Step1ã§ä½œæˆã•ã‚ŒãŸãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å€¤ã‚’å–å¾—:
     - `topic`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒˆãƒ”ãƒƒã‚¯
     - `text-prompt`: `audio-prompt.txt` ã®å†…å®¹
     - `voice-settings`: `voice-settings.json` ã®å†…å®¹
     - `folder-name`: ä½œæ¥­ãƒ•ã‚©ãƒ«ãƒ€å
     - `audio_index`: éŸ³å£°ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆé€šå¸¸1ï¼‰

2. **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿**
   - Readãƒ„ãƒ¼ãƒ«ã§ `docs/workflow/prompts/presenter-video-generation/audio-generation-prompt.md` ã‚’èª­ã¿è¾¼ã¿
   - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå†…ã®å¤‰æ•°ã‚’å®Ÿéš›ã®å€¤ã«ç½®æ›

3. **éŸ³å£°ç”Ÿæˆå®Ÿè¡Œï¼ˆåˆ¶é™å¯¾å¿œè¾¼ã¿ï¼‰**
   - `module-workflow/kamuicode/kamuicode-usage.md` ã‹ã‚‰å¯¾å¿œã™ã‚‹MCPãƒ„ãƒ¼ãƒ«åã‚’ç¢ºèª
   - submitãƒ„ãƒ¼ãƒ«ã§éŸ³å£°ç”Ÿæˆé–‹å§‹
   - statusãƒ„ãƒ¼ãƒ«ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª
   - resultãƒ„ãƒ¼ãƒ«ã§çµæœå–å¾—ã—ã¦éŸ³å£°URLã‚’å–å¾—
   - Google URLã‚’ `{AUDIO_DIR}/audio-url.txt` ã«ä¿å­˜
   - Google URLã‹ã‚‰ `{AUDIO_DIR}/audio.mp3` ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ä¿å­˜
   - **åˆ¶é™ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ**: ç”Ÿæˆã•ã‚ŒãŸéŸ³å£°ãŒåˆ¶é™ã‚’è¶…ãˆã‚‹å ´åˆã¯è‡ªå‹•çŸ­ç¸®ãƒ»å†ç”Ÿæˆ

4. **éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«æ¤œè¨¼ã¨ãƒªãƒƒãƒ—ã‚·ãƒ³ã‚¯åˆ¶é™å¯¾å¿œ**
   
   **ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: [step2b-audio-validation.sh](./bash/step2b-audio-validation.sh)
   
   ```bash
   # éŸ³å£°ç”Ÿæˆå¾Œã«å®Ÿè¡Œï¼ˆFOLDER_NAMEã¯ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æƒ…å ±ã‹ã‚‰å–å¾—ï¼‰
   ./docs/workflow/bash/step2b-audio-validation.sh "$FOLDER_NAME" "$VIDEO_INDEX" "$NEWS_DURATION"

   ## å®Ÿè¡Œä¾‹
   ./docs/workflow/bash/step2b-audio-validation.sh "result/news/20250730-120000" 1 30
   ```

5. **ç”Ÿæˆå®Œäº†ç¢ºèª**
   - éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£å¸¸ã«ä½œæˆã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèª
   - `VIDEO_DURATION`ãŒ30ç§’ä»¥ä¸‹ã®å ´åˆã®ã¿ã€Pixverseåˆ¶é™ï¼ˆ30ç§’/5MBä»¥å†…ï¼‰ã‚’æº€ãŸã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª

---

## ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ™ãƒ¼ã‚¹å‹•ç”»ç”Ÿæˆ (module-video-generation-kc-multi-model-ccsdk.yml ãƒ™ãƒ¼ã‚¹)

### å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
- `topic`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒˆãƒ”ãƒƒã‚¯ï¼ˆStep0ã®å‡ºåŠ›ï¼‰
- `model-type`: ä½¿ç”¨ã™ã‚‹å‹•ç”»ç”Ÿæˆãƒ¢ãƒ‡ãƒ« (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤: i2v-fal-hailuo-02-pro)
- `video-prompt`: å‹•ç”»ç”Ÿæˆç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆStep1ã®å‡ºåŠ›ï¼švideo-concept.txtï¼‰
- `image-url`: ç”»åƒURLï¼ˆStep2aã®å‡ºåŠ›ï¼‰
- `folder-name`: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€åï¼ˆStep0ã®å‡ºåŠ›ï¼‰
- `video_index`: å‹•ç”»ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆStep0ã®å‡ºåŠ›ï¼‰

### å®Ÿè¡Œã‚¹ãƒ†ãƒƒãƒ—

**é‡è¦**: ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã¯Claude Codeï¼ˆAIï¼‰ãŒå®Ÿè¡Œã—ã¾ã™ã€‚bashã‚³ãƒãƒ³ãƒ‰ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

1. **å‹•ç”»ç”Ÿæˆå®Ÿè¡Œ**
   
   ğŸš¨ **é‡è¦**: å¿…ãšReadãƒ„ãƒ¼ãƒ«ã§ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ã‹ã‚‰å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚è¨˜æ†¶ã‚„æƒ³åƒã§ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½œæˆã—ãªã„ã§ãã ã•ã„ã€‚
   
   **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: [video-generation-prompt.md](./prompts/presenter-video-generation/video-generation-prompt.md)
   
   MCPãƒ„ãƒ¼ãƒ«ä½¿ç”¨ï¼ˆå‹•ç”»ç”Ÿæˆç³»ãƒ„ãƒ¼ãƒ«ã¯ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã§è¨±å¯ï¼‰:
   - kamuicode-usage.mdã‹ã‚‰æ­£ã—ã„ãƒ„ãƒ¼ãƒ«åã‚’å–å¾—
   - ãƒ¢ãƒ‡ãƒ«ã‚¿ã‚¤ãƒ—ã«å¿œã˜ãŸé©åˆ‡ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä½¿ç”¨
   - submitãƒ„ãƒ¼ãƒ«ã§å‹•ç”»ç”Ÿæˆé–‹å§‹
   - statusãƒ„ãƒ¼ãƒ«ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèªï¼ˆå‹•ç”»ç”Ÿæˆã¯æ™‚é–“ãŒã‹ã‹ã‚‹ãŸã‚ã€é©åº¦ãªé–“éš”ã§ç¢ºèªï¼‰
   - å¿…è¦ã«å¿œã˜ã¦ `sleep 60` ã‚’å®Ÿè¡Œã—ã¦ã‹ã‚‰å†åº¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª
   - resultãƒ„ãƒ¼ãƒ«ã§çµæœå–å¾—ã—ã¦å‹•ç”»URLã‚’å–å¾—

---

## ã‚¹ãƒ†ãƒƒãƒ—4: ãƒªãƒƒãƒ—ã‚·ãƒ³ã‚¯ç”Ÿæˆ (module-lipsync-generation-kc-multi-model-ccsdk.yml ãƒ™ãƒ¼ã‚¹)

### å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
- `topic`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒˆãƒ”ãƒƒã‚¯ï¼ˆStep0ã®å‡ºåŠ›ï¼‰
- `model-type`: ä½¿ç”¨ã™ã‚‹ãƒªãƒƒãƒ—ã‚·ãƒ³ã‚¯ãƒ¢ãƒ‡ãƒ« (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤[30ç§’ä»¥ä¸‹]: v2v-fal-pixverse-lipsync, ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤[30ç§’ã‚ˆã‚Šä¸Š]: v2v-fal-creatify-lipsync)
- `video-url`: å…¥åŠ›å‹•ç”»URLï¼ˆStep3ã®å‡ºåŠ›ï¼‰
- `audio-url`: å…¥åŠ›éŸ³å£°URLï¼ˆStep2bã®å‡ºåŠ›ï¼‰
- `lipsync-settings`: ãƒªãƒƒãƒ—ã‚·ãƒ³ã‚¯è¨­å®šï¼ˆJSONå½¢å¼ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- `folder-name`: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€åï¼ˆStep0ã®å‡ºåŠ›ï¼‰
- `lipsync_index`: ãƒªãƒƒãƒ—ã‚·ãƒ³ã‚¯ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆStep0ã®å‡ºåŠ›ï¼‰

### å®Ÿè¡Œã‚¹ãƒ†ãƒƒãƒ—

**é‡è¦**: ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã¯Claude Codeï¼ˆAIï¼‰ãŒå®Ÿè¡Œã—ã¾ã™ã€‚bashã‚³ãƒãƒ³ãƒ‰ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

1. **ãƒªãƒƒãƒ—ã‚·ãƒ³ã‚¯ç”Ÿæˆå®Ÿè¡Œ**
   
   ğŸš¨ **é‡è¦**: å¿…ãšReadãƒ„ãƒ¼ãƒ«ã§ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ã‹ã‚‰å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚è¨˜æ†¶ã‚„æƒ³åƒã§ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½œæˆã—ãªã„ã§ãã ã•ã„ã€‚
   
   **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: [lipsync-generation-prompt.md](./prompts/presenter-video-generation/lipsync-generation-prompt.md)
   
   MCPãƒ„ãƒ¼ãƒ«ä½¿ç”¨:
   - kamuicode-usage.mdã‹ã‚‰æ­£ã—ã„ãƒ„ãƒ¼ãƒ«åã‚’å–å¾—
   - submitãƒ„ãƒ¼ãƒ«ã§ãƒªãƒƒãƒ—ã‚·ãƒ³ã‚¯ç”Ÿæˆé–‹å§‹
   - statusãƒ„ãƒ¼ãƒ«ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèªï¼ˆãƒªãƒƒãƒ—ã‚·ãƒ³ã‚¯ç”Ÿæˆã¯æ™‚é–“ãŒã‹ã‹ã‚‹ãŸã‚ã€é©åº¦ãªé–“éš”ã§ç¢ºèªï¼‰
   - å¿…è¦ã«å¿œã˜ã¦ `sleep 60` ã‚’å®Ÿè¡Œã—ã¦ã‹ã‚‰å†åº¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª
   - resultãƒ„ãƒ¼ãƒ«ã§çµæœå–å¾—ã—ã¦ãƒªãƒƒãƒ—ã‚·ãƒ³ã‚¯å‹•ç”»URLã‚’å–å¾—

---

## ã‚¹ãƒ†ãƒƒãƒ—5: å­—å¹•è§£æ (module-lipsync-video-analysis-ccsdk.yml ãƒ™ãƒ¼ã‚¹)

### å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
- `topic`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒˆãƒ”ãƒƒã‚¯ï¼ˆStep0ã®å‡ºåŠ›ï¼‰
- `audio-url`: éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«URLï¼ˆStep2bã®å‡ºåŠ›ï¼‰
- `text-content`: éŸ³å£°ãƒ†ã‚­ã‚¹ãƒˆå†…å®¹ï¼ˆStep1ã®å‡ºåŠ›ï¼šaudio-prompt.txtï¼‰
- `target-language`: å­—å¹•è¨€èªï¼ˆStep0ã®å‡ºåŠ›ï¼‰
- `folder-name`: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€åï¼ˆStep0ã®å‡ºåŠ›ï¼‰
- `video_index`: å‹•ç”»ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆStep0ã®å‡ºåŠ›ï¼‰

### å®Ÿè¡Œã‚¹ãƒ†ãƒƒãƒ—

1. **éŸ³å£°ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—**
   
   **ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: [step5-subtitle-analysis-check.sh](./bash/step5-subtitle-analysis-check.sh) ï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—éƒ¨åˆ†ï¼‰
   
   ```bash
   # å­—å¹•è§£æå¾Œã«ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œï¼ˆFOLDER_NAMEã¯ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æƒ…å ±ã‹ã‚‰å–å¾—ï¼‰
   ./docs/workflow/bash/step5-subtitle-analysis-check.sh "$FOLDER_NAME" "$VIDEO_INDEX"

   ## å®Ÿè¡Œä¾‹
   ./docs/workflow/bash/step5-subtitle-analysis-check.sh "result/news/20250730-120000" 1
   ```

2. **å­—å¹•è§£æã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®Ÿè¡Œ**
   ```bash
   AUDIO_URL="{audio-url}"
   TEXT_CONTENT="{text-content}"
   TARGET_LANGUAGE="{target-language}"
   CONCEPT="{concept}"
   FOLDER_NAME="{folder-name}"
   ANALYSIS_DIR="$FOLDER_NAME/subtitle-analysis-{video_index}"
   VIDEO_INDEX="{video_index}"
   AUDIO_DURATION="$DURATION"
   ```

   ğŸš¨ **é‡è¦**: å¿…ãšReadãƒ„ãƒ¼ãƒ«ã§ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ã‹ã‚‰å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚è¨˜æ†¶ã‚„æƒ³åƒã§ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½œæˆã—ãªã„ã§ãã ã•ã„ã€‚
   
   **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: [subtitle-analysis-prompt.md](./prompts/presenter-video-generation/subtitle-analysis-prompt.md)
   
   ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«åŸºã¥ã„ã¦ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼š
   - `subtitle.srt`: SRTå½¢å¼å­—å¹•ãƒ•ã‚¡ã‚¤ãƒ«
   - `analysis-report.md`: è©³ç´°åˆ†æãƒ¬ãƒãƒ¼ãƒˆ

3. **è§£æå®Œäº†ç¢ºèª**
   
   **ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: [step5-subtitle-analysis-check.sh](./bash/step5-subtitle-analysis-check.sh) ï¼ˆç¢ºèªéƒ¨åˆ†ï¼‰
   
   ä¸Šè¨˜ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆåŒã˜ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰ã§å­—å¹•ãƒ•ã‚¡ã‚¤ãƒ«ã®ç”Ÿæˆç¢ºèªã¨ã‚»ã‚°ãƒ¡ãƒ³ãƒˆæ•°ãƒã‚§ãƒƒã‚¯ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚

---

## ã‚¹ãƒ†ãƒƒãƒ—6: å­—å¹•ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ (module-subtitle-overlay-ffmpeg-ccsdk.yml ãƒ™ãƒ¼ã‚¹)

### å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
- `topic`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒˆãƒ”ãƒƒã‚¯ï¼ˆStep0ã®å‡ºåŠ›ï¼‰
- `video-url`: å…ƒå‹•ç”»URLï¼ˆStep4ã®å‡ºåŠ›ï¼‰
- `text-content`: å­—å¹•ãƒ†ã‚­ã‚¹ãƒˆå†…å®¹ï¼ˆStep1ã®å‡ºåŠ›ï¼šaudio-prompt.txtï¼‰
- `subtitle-srt-content`: SRTå­—å¹•ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ï¼ˆStep5ã®å‡ºåŠ›ï¼‰
- `target-language`: å­—å¹•è¨€èªï¼ˆStep0ã®å‡ºåŠ›ï¼‰
- `folder-name`: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€åï¼ˆStep0ã®å‡ºåŠ›ï¼‰
- `video_index`: å‹•ç”»ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆStep0ã®å‡ºåŠ›ï¼‰

### å®Ÿè¡Œã‚¹ãƒ†ãƒƒãƒ—

1. **å­—å¹•ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®Ÿè¡Œ**
   ```
   USER_CONCEPT="{concept}"
   VIDEO_URL="{video-url}"
   TEXT_CONTENT="{text-content}"
   SUBTITLE_SRT_CONTENT='{subtitle-srt-content}'
   TARGET_LANGUAGE="{target-language}"
   FOLDER_NAME="{folder-name}"
   VIDEO_INDEX="{video_index}"
   
   # æ–°ã—ã„ãƒ‘ã‚¹æ§‹é€ 
   VIDEO_BASE_DIR="$FOLDER_NAME/video$VIDEO_INDEX"
   SUBTITLE_DIR="$VIDEO_BASE_DIR/subtitles/overlay"
   
   # å­—å¹•ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆStep0ã§ä½œæˆæ¸ˆã¿ï¼‰
   echo "Using subtitle directory: $SUBTITLE_DIR"
   
   # SRTå­—å¹•ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ï¼ˆbase64ãƒ‡ã‚³ãƒ¼ãƒ‰ï¼‰
   echo "$SUBTITLE_SRT_CONTENT" | base64 -d > "$SUBTITLE_DIR/subtitle.srt"
   ```

   ğŸš¨ **é‡è¦**: å¿…ãšReadãƒ„ãƒ¼ãƒ«ã§ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ã‹ã‚‰å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚è¨˜æ†¶ã‚„æƒ³åƒã§ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½œæˆã—ãªã„ã§ãã ã•ã„ã€‚
   
   **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: [subtitle-overlay-prompt.md](./prompts/presenter-video-generation/subtitle-overlay-prompt.md)
   
   ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«åŸºã¥ã„ã¦ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼š
   - `video.mp4`: å­—å¹•åŸ‹ã‚è¾¼ã¿æ¸ˆã¿å‹•ç”»
   - `subtitle-overlay-log.txt`: å‡¦ç†ãƒ­ã‚°

